apply plugin: 'com.android.application'
apply plugin: 'maven-publish'
apply from: "$rootDir/gradle/scripts/android-config.gradle"
apply from: "$rootDir/gradle/scripts/compose-dependencies.gradle"
apply plugin: 'com.google.gms.google-services'

android {
    namespace 'com.firdavs.persianliterature.app'

    defaultConfig {
        applicationId "com.firdavs.persianliterature"
    }
}

dependencies {
    implementation module.core
    implementation module.ui_kit
    implementation module.author_ui
    implementation module.author
    implementation module.util
    implementation module.about_app
    implementation module.settings_api
    implementation module.settings

    implementation library.activity_compose
    implementation platform(library.firebase_bom)
    implementation library.firestore_ktx
    implementation groups.navigation
}

tasks.register("runKoinModuleTests", Test.class) {
    description = "Runs Koin module tests."
    group = "verification"

    testClassesDirs = files("/src/test/kotlin")
    include("/src/test/kotlin/KoinModulesTest.class")
}

tasks.named("check") {
    dependsOn("runKoinModuleTests")
}